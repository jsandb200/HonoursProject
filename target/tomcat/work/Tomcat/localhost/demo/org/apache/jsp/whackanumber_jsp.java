/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.47
 * Generated at: 2023-03-07 13:48:45 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;
import java.sql.*;

public final class whackanumber_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("<!DOCTYPE html>\r\n");
      out.write("<html>\r\n");
      out.write("\r\n");
      out.write("    <head>\r\n");
      out.write("        <title>Denomigator</title>\r\n");
      out.write("        <link rel=\"stylesheet\" href=\"styling/css.css\">\r\n");
      out.write("        <link rel=\"stylesheet\" href=\"styling/wackanumber.css\">\r\n");
      out.write("    </head>\r\n");
      out.write("    \r\n");
      out.write("    <body>\r\n");
      out.write("\r\n");
      out.write("       \r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("        \r\n");
      out.write("\r\n");
      out.write("        <div class=\"center gamecontainer\" id=\"wackacontainer\">\r\n");
      out.write("\r\n");
      out.write("             <div id=\"redflash\" class=\"hidden\"></div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("            <div id=\"wackadiff\">\r\n");
      out.write("                <h1>Whack-a-Num</h1>\r\n");
      out.write("                <h2>Select multiple to whack:</h2>\r\n");
      out.write("\r\n");
      out.write("                <div class=\"flexcontainer\">\r\n");
      out.write("                    <div class=\"multiples\">2</div>\r\n");
      out.write("                    <div class=\"multiples\">3</div>\r\n");
      out.write("                    <div class=\"multiples\">4</div>\r\n");
      out.write("                    <div class=\"multiples\">5</div>\r\n");
      out.write("                    <div class=\"multiples\">6</div>\r\n");
      out.write("                    <div class=\"multiples\">7</div>\r\n");
      out.write("                    <div class=\"multiples\">8</div>\r\n");
      out.write("                    <div class=\"multiples\">9</div>\r\n");
      out.write("                    <div class=\"multiples\">10</div>\r\n");
      out.write("                    <div class=\"multiples\">11</div>\r\n");
      out.write("                    <div class=\"multiples\">12</div>\r\n");
      out.write("                </div>\r\n");
      out.write("\r\n");
      out.write("                <button onclick=\"startwacka()\" id=\"startwacka\" class=\"center button\">Begin!</button>\r\n");
      out.write("                <p id=\"wackaplease\" class=\"hidden\" style=\"color: red; position: relative; margin-left: 5vh;\">Please select a multiple first!</p>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("                <button onclick=\"back()\" class=\"button\" style=\"position: absolute; width:10%; height: 10%; top: 5%; left: 2%; padding: 0;\">Back</button>\r\n");
      out.write("            </div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("            \r\n");
      out.write("            <div class=\"hidden\" id=\"wackanum\">\r\n");
      out.write("\r\n");
      out.write("                <div style=\"position: absolute; left: 35%; font-size: large; font-weight: bold;\">Whack multiples of <div id=\"wackaselected\" style=\"display: inline;\"></div>!</div>\r\n");
      out.write("                <div id=\"wackalives\">\r\n");
      out.write("                    <div class=\"heart\"></div>\r\n");
      out.write("                    <div class=\"heart\"></div>\r\n");
      out.write("                    <div class=\"heart\"></div>\r\n");
      out.write("                </div>\r\n");
      out.write("                <div id=\"wackatimerbox\">Time left <div id=\"wackatimer\" style=\"display: inline;\">30</div></div>\r\n");
      out.write("                <div id=\"wackascorebox\" style=\"position: absolute; top: 2vh;\">Score: <div id=\"wackascore\" style=\"display: inline;\">0</div></div>\r\n");
      out.write("                <div id=\"wackanewhighscore\" style=\"top: 35%;\" class=\"hidden center\">New Highscore !</div>\r\n");
      out.write("\r\n");
      out.write("                <button class=\"button hidden center\" id=\"wackarestart\" onclick=\"restart()\">Play again</button>\r\n");
      out.write("\r\n");
      out.write("                <div class=\"mole\" id=\"mole1\"></div>\r\n");
      out.write("                <div class=\"mole\" id=\"mole2\"></div>\r\n");
      out.write("                <div class=\"mole\" id=\"mole3\"></div>\r\n");
      out.write("                <div class=\"mole\" id=\"mole4\"></div>\r\n");
      out.write("                <div class=\"mole\" id=\"mole5\"></div>\r\n");
      out.write("                <div class=\"mole\" id=\"mole6\"></div>\r\n");
      out.write("                <div class=\"mole\" id=\"mole7\"></div>\r\n");
      out.write("                <div class=\"mole\" id=\"mole8\"></div>\r\n");
      out.write("                <div class=\"mole\" id=\"mole9\"></div>\r\n");
      out.write("                <div class=\"notmole\" id=\"notmole1\"></div>\r\n");
      out.write("                <div class=\"notmole\" id=\"notmole2\"></div>\r\n");
      out.write("                <div class=\"notmole\" id=\"notmole3\"></div>\r\n");
      out.write("                <div class=\"notmole\" id=\"notmole4\"></div>\r\n");
      out.write("                <div class=\"notmole\" id=\"notmole5\"></div>\r\n");
      out.write("                <div class=\"notmole\" id=\"notmole6\"></div>\r\n");
      out.write("                <div class=\"notmole\" id=\"notmole7\"></div>\r\n");
      out.write("                <div class=\"notmole\" id=\"notmole8\"></div>\r\n");
      out.write("                <div class=\"notmole\" id=\"notmole9\"></div>\r\n");
      out.write("\r\n");
      out.write("            </div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("            \r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("        </div>\r\n");
      out.write("\r\n");
      out.write("        <button onclick=\"quit()\" class=\"button hidden\" id=\"wackaquit\" style=\"position: absolute; width:8%; height: 10%; top: 88%; left: 1%; padding: 0;\">Quit</button>\r\n");
      out.write("\r\n");
      out.write("        <audio id=\"gerudo\" src=\"sounds/gerudo_valley_zelda.mp3\"></audio>\r\n");
      out.write("        <audio id=\"aww\" src=\"sounds/aww.mp3\"></audio>\r\n");
      out.write("        <audio id=\"whack\" src=\"sounds/whack.mp3\"></audio>\r\n");
      out.write("\r\n");
      out.write("        <script src=\"https://code.jquery.com/jquery-3.6.3.js\" integrity=\"sha256-nQLuAZGRRcILA+6dMBOvcRh5Pe310sBpanc6+QBmyVM=\" crossorigin=\"anonymous\"></script>\r\n");
      out.write("        <script>\r\n");
      out.write("        \r\n");
      out.write("        ");
 int wackaHigh = (Integer)session.getAttribute("wackahighscore"); 
      out.write("\r\n");
      out.write("\r\n");
      out.write("            \r\n");
      out.write("            \r\n");
      out.write("            var multiples = document.getElementsByClassName(\"multiples\");\r\n");
      out.write("            var selected = [];\r\n");
      out.write("            var timer = document.getElementById(\"wackatimer\");\r\n");
      out.write("            var moles = document.querySelectorAll('.mole');\r\n");
      out.write("            var notmoles = document.querySelectorAll(\".notmole\");\r\n");
      out.write("            var score = 0;\r\n");
      out.write("            var hearts = document.querySelectorAll(\".heart\");\r\n");
      out.write("            var x = 0;\r\n");
      out.write("            var wackarestart = document.getElementById(\"wackarestart\");\r\n");
      out.write("            var wackascorebox = document.getElementById(\"wackascorebox\");\r\n");
      out.write("            var wackascore = document.getElementById(\"wackascore\");\r\n");
      out.write("            var correct = [];\r\n");
      out.write("            var soundzelda = document.getElementById(\"gerudo\");\r\n");
      out.write("            var soundaww = document.getElementById(\"aww\");\r\n");
      out.write("            var soundwhack = document.getElementById(\"whack\");\r\n");
      out.write("            var wackaquit = document.getElementById(\"wackaquit\");\r\n");
      out.write("            var wackanewhighscore = document.getElementById(\"wackanewhighscore\");\r\n");
      out.write("            var redflash = document.getElementById(\"redflash\");\r\n");
      out.write("            \r\n");
      out.write("            soundzelda.volume = 0.2;\r\n");
      out.write("\r\n");
      out.write("            for(var i=0;i<=10;i++){\r\n");
      out.write("                multiples[i].addEventListener(\"click\", select);\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("           \r\n");
      out.write("            \r\n");
      out.write("            function select() {\r\n");
      out.write("                \r\n");
      out.write("                if(selected.includes(this.innerHTML) == true) {\r\n");
      out.write("                    let index = selected.indexOf(this.innerHTML);\r\n");
      out.write("                    selected.splice(index, 1);\r\n");
      out.write("                    this.style.backgroundColor = \"\";\r\n");
      out.write("                }\r\n");
      out.write("                else {\r\n");
      out.write("                    selected=[];\r\n");
      out.write("                    selected.push(this.innerHTML);\r\n");
      out.write("                    for(let i = 0;i<multiples.length;i++){\r\n");
      out.write("                        multiples[i].style.backgroundColor =\"\";\r\n");
      out.write("                    }\r\n");
      out.write("                    this.style.backgroundColor = \"green\";\r\n");
      out.write("                }\r\n");
      out.write("                \r\n");
      out.write("\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            function restart(){\r\n");
      out.write("                location.reload();\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("            \r\n");
      out.write("\r\n");
      out.write("            \r\n");
      out.write("           \r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("            function startwacka(){\r\n");
      out.write("\r\n");
      out.write("                if(selected.length === 1){\r\n");
      out.write("\r\n");
      out.write("                    for(let i=0;i<moles.length;i++){\r\n");
      out.write("                moles[i].addEventListener(\"click\", function (){\r\n");
      out.write("                    \r\n");
      out.write("                    soundwhack.currentTime=0;\r\n");
      out.write("                    var clickdiv = document.createElement(\"div\");\r\n");
      out.write("                    clickdiv.setAttribute(\"class\", \"points\");\r\n");
      out.write("                    clickdiv.setAttribute(\"id\", 'points'+ (new Date()).getTime());\r\n");
      out.write("                    clickdiv.setAttribute(\"style\", \"animation: slideup 1s; margin-left: 5vh; color: green;\");\r\n");
      out.write("                    clickdiv.innerHTML = \"+10\";\r\n");
      out.write("                    wackascorebox.appendChild(clickdiv);\r\n");
      out.write("                    soundwhack.play();\r\n");
      out.write("                    setTimeout(function (){\r\n");
      out.write("                        wackascorebox.removeChild(clickdiv);\r\n");
      out.write("                    },1000);\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("                });\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            for(let i=0;i<notmoles.length;i++){\r\n");
      out.write("                notmoles[i].addEventListener(\"click\", function (){\r\n");
      out.write("\r\n");
      out.write("                    soundaww.currentTime=0;\r\n");
      out.write("                    var clickdiv = document.createElement(\"div\");\r\n");
      out.write("                    clickdiv.setAttribute(\"class\", \"points\");\r\n");
      out.write("                    clickdiv.setAttribute(\"id\", 'points'+ (new Date()).getTime());\r\n");
      out.write("                    clickdiv.setAttribute(\"style\", \"animation: slideup 1s; margin-left: 6vh; color: red;\");\r\n");
      out.write("                    clickdiv.innerHTML = \"-5\";\r\n");
      out.write("                    wackascorebox.appendChild(clickdiv);\r\n");
      out.write("                    soundaww.play();\r\n");
      out.write("                    redflash.classList.remove(\"hidden\");\r\n");
      out.write("                    setTimeout(function (){redflash.classList.add(\"hidden\");},100);\r\n");
      out.write("                    setTimeout(function (){\r\n");
      out.write("                        \r\n");
      out.write("                        wackascorebox.removeChild(clickdiv);\r\n");
      out.write("                    },1000);\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("                });\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("                soundzelda.play();\r\n");
      out.write("                document.getElementById(\"wackadiff\").style.display = \"none\";\r\n");
      out.write("                document.getElementById(\"wackanum\").classList.remove(\"hidden\");\r\n");
      out.write("                wackaquit.classList.remove(\"hidden\");\r\n");
      out.write("                document.getElementById(\"wackaselected\").innerHTML = selected[0];\r\n");
      out.write("                \r\n");
      out.write("                let seconds = setInterval(function (){\r\n");
      out.write("\r\n");
      out.write("                    timer.innerHTML = parseInt(timer.innerHTML)-1;\r\n");
      out.write("                    if(timer.innerHTML == \"0\" || x === 3){\r\n");
      out.write("                        soundzelda.pause();\r\n");
      out.write("                        clearInterval(seconds);\r\n");
      out.write("                        clearInterval(moleinterval);\r\n");
      out.write("                        for(let i = 0; i<moles.length;i++){\r\n");
      out.write("                            moles[i].style.display = \"none\";\r\n");
      out.write("                            notmoles[i].style.display = \"none\";\r\n");
      out.write("                        }\r\n");
      out.write("                        wackarestart.classList.remove(\"hidden\");\r\n");
      out.write("                        wackascorebox.classList.add(\"endscore\");\r\n");
      out.write("                        wackascorebox.style.top = \"30%\";\r\n");
      out.write("                        wackaquit.classList.add(\"hidden\");\r\n");
      out.write("\r\n");
      out.write("                        if(score > ");
      out.print(wackaHigh);
      out.write("){\r\n");
      out.write("                            \r\n");
      out.write("                            \r\n");
      out.write("                            $.ajax({\r\n");
      out.write("                                url: \"whackanumberscore.jsp?score=\" + score,\r\n");
      out.write("                                success: function(response) {\r\n");
      out.write("                                    console.log(\"AJAX request succeeded\");\r\n");
      out.write("                                },\r\n");
      out.write("                                error: function(xhr, status, error) {\r\n");
      out.write("                                    console.log(\"AJAX request failed\");\r\n");
      out.write("                                }\r\n");
      out.write("                            });\r\n");
      out.write("\r\n");
      out.write("                            wackanewhighscore.classList.remove(\"hidden\");\r\n");
      out.write("                            \r\n");
      out.write("\r\n");
      out.write("                        }\r\n");
      out.write("\r\n");
      out.write("                        \r\n");
      out.write("                        \r\n");
      out.write("                        }\r\n");
      out.write("\r\n");
      out.write("            }, 1000);\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("        for(let i=0;i<=100;i++){\r\n");
      out.write("            for(let y=0;y<selected.length;y++){\r\n");
      out.write("                if(selected[y]*i <= 100){\r\n");
      out.write("                    correct.push(selected[y]*i);\r\n");
      out.write("                }\r\n");
      out.write("                \r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("        }\r\n");
      out.write("        correct = correct.sort(function(a, b){return a-b});\r\n");
      out.write("\r\n");
      out.write("        function randomTime(min, max) {\r\n");
      out.write("            return Math.round(Math.random() * (max - min) + min);\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        function randomNumbers(correct){\r\n");
      out.write("            var randomNumber = Math.floor(Math.random() * 101);\r\n");
      out.write("            if (correct.includes(randomNumber)) {\r\n");
      out.write("                return randomNumbers(correct);\r\n");
      out.write("            } else {\r\n");
      out.write("                return randomNumber;\r\n");
      out.write("            }\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        function randomMole(){\r\n");
      out.write("            var idx = Math.floor(Math.random() * moles.length);\r\n");
      out.write("            var mole = moles[idx];\r\n");
      out.write("            var notmole = notmoles[idx];\r\n");
      out.write("            var incorrect = randomNumbers(correct);\r\n");
      out.write("            var chance = Math.floor(Math.random() * 10);\r\n");
      out.write("            if(chance >= 7){\r\n");
      out.write("                notmole.innerHTML = incorrect;\r\n");
      out.write("                notmole.style.top = Math.random() * 70 + 'vh';\r\n");
      out.write("                notmole.style.left = Math.random() * 70 + 'vw';\r\n");
      out.write("                notmole.style.display = 'block';\r\n");
      out.write("                setTimeout(function() {\r\n");
      out.write("                notmole.style.display = 'none';\r\n");
      out.write("                }, randomTime(2000, 6000));\r\n");
      out.write("\r\n");
      out.write("            }\r\n");
      out.write("            \r\n");
      out.write("            else{\r\n");
      out.write("                mole.innerHTML = correct[Math.floor(Math.random() * correct.length)];\r\n");
      out.write("                mole.style.top = Math.random() * 70 + 'vh';\r\n");
      out.write("                mole.style.left = Math.random() * 70 + 'vw';\r\n");
      out.write("                mole.style.display = 'block';\r\n");
      out.write("\r\n");
      out.write("                setTimeout(function() {\r\n");
      out.write("                mole.style.display = 'none';\r\n");
      out.write("                }, randomTime(2000, 6000));\r\n");
      out.write("\r\n");
      out.write("            }\r\n");
      out.write("            \r\n");
      out.write("        } \r\n");
      out.write("\r\n");
      out.write("        for (var i = 0; i < moles.length; i++) {\r\n");
      out.write("            moles[i].addEventListener('click', function(e) {\r\n");
      out.write("                e.target.style.display = 'none';\r\n");
      out.write("                score = score+10;\r\n");
      out.write("                document.querySelector('#wackascore').textContent = score;\r\n");
      out.write("            });\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        for (var i = 0; i < notmoles.length; i++) {\r\n");
      out.write("            notmoles[i].addEventListener('click', function(e) {\r\n");
      out.write("                e.target.style.display = 'none';\r\n");
      out.write("                score = score-5;\r\n");
      out.write("                document.querySelector('#wackascore').textContent = score;\r\n");
      out.write("                hearts[x].style.display = \"none\";\r\n");
      out.write("                x++;\r\n");
      out.write("            });\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("       let moleinterval = setInterval(randomMole, 1500);\r\n");
      out.write("    \r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("            else{\r\n");
      out.write("                document.getElementById(\"wackaplease\").classList.remove(\"hidden\");\r\n");
      out.write("            }\r\n");
      out.write("\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("        function back(){\r\n");
      out.write("            window.location.href = \"hub.jsp\";\r\n");
      out.write("        }\r\n");
      out.write("\r\n");
      out.write("        function quit() {\r\n");
      out.write("            window.location.href = \"whackanumber.jsp\";\r\n");
      out.write("        }\r\n");
      out.write("        \r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("        </script>\r\n");
      out.write("    </body>\r\n");
      out.write("\r\n");
      out.write("</html>\r\n");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try { out.clearBuffer(); } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }
}
